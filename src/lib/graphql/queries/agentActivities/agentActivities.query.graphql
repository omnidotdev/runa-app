query AgentActivities(
  $projectId: UUID!
  $filter: AgentActivityFilter
  $first: Int = 20
  $after: Cursor
) {
  agentActivities(
    condition: { projectId: $projectId }
    filter: $filter
    orderBy: [CREATED_AT_DESC]
    first: $first
    after: $after
  ) {
    nodes {
      rowId
      toolName
      toolInput
      toolOutput
      status
      approvalStatus
      requiresApproval
      errorMessage
      affectedTaskIds
      createdAt
      session {
        rowId
        title
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
    totalCount
  }
}
